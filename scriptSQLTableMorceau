
CREATE TABLE Morceau (
	id NUMBER(5),
	nom VARCHAR(50),
	interprete VARCHAR(50),
	paroles VARCHAR(100),
	partition VARCHAR(100),
	tonaliteOriginale VARCHAR(10),
	tonaliteJouee VARCHAR(10),
	duree FLOAT(2),
	commentaire VARCHAR(500),
	lienYT VARCHAR(100),
	image VARCHAR(100),
	
	CONSTRAINT pk_Morceaux PRIMARY KEY (id)
)



CREATE OR REPLACE PROCEDURE insererMorceau(p_id IN Morceau.id%TYPE,
								p_nom IN Morceau.nom%TYPE,
								p_interprete IN Morceau.interprete%TYPE,
								p_paroles IN Morceau.paroles%TYPE,
								p_partition IN Morceau.partition%TYPE,
								p_tonaliteOriginale IN Morceau.tonaliteOriginale%TYPE,
								p_tonaliteJouee IN Morceau.tonaliteJouee%TYPE,
								p_duree IN Morceau.duree%TYPE,
								p_commentaire IN Morceau.commentaire%TYPE,
								p_lienYT IN Morceau.lienYT%TYPE,
								p_image IN Morceau.image%TYPE) IS
BEGIN
	INSERT INTO Morceau (id, nom, interprete, paroles, partition, tonaliteOriginale, tonaliteJouee, duree, commentaire, lienYT, image)
		VALUES (p_id, p_nom, p_interprete, p_paroles, p_partition, p_tonaliteOriginale, p_tonaliteJouee, p_duree, p_commentaire, p_lienYT, p_image);
END;



CREATE OR REPLACE PROCEDURE modifierMorceau(p_id IN Morceau.id%TYPE,
								p_nom IN Morceau.nom%TYPE,
								p_interprete IN Morceau.interprete%TYPE,
								p_paroles IN Morceau.paroles%TYPE,
								p_partition IN Morceau.partition%TYPE,
								p_tonaliteOriginale IN Morceau.tonaliteOriginale%TYPE,
								p_tonaliteJouee IN Morceau.tonaliteJouee%TYPE,
								p_duree IN Morceau.duree%TYPE,
								p_commentaire IN Morceau.commentaire%TYPE,
								p_lienYT IN Morceau.lienYT%TYPE,
								p_image IN Morceau.image%TYPE) IS
BEGIN
	UPDATE Morceau
	SET nom = p_nom,
		interprete = p_interprete,
		paroles = p_paroles,
		partition = p_partition,
		tonaliteOriginale = p_tonaliteOriginale,
		tonaliteJouee = p_tonaliteJouee,
		duree = p_duree,
		commentaire = p_commentaire,
		lienYT = p_lienYT,
		image = p_image
		WHERE id = p_id;
END;



CREATE OR REPLACE PROCEDURE supprimerMorceau(p_id IN Morceau.id%TYPE) IS
BEGIN
	DELETE FROM Morceau WHERE id = p_id;
END;

